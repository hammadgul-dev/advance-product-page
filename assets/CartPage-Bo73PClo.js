import{G as v,u as N,r,a as y,j as e,b as o,F as w,c as C,d as b,e as D}from"./index-DOaJq5iG.js";const E="_name_xt0mf_181",t={"cart-container":"_cart-container_xt0mf_1","cart-item":"_cart-item_xt0mf_25","product-card":"_product-card_xt0mf_63","img-wrapper":"_img-wrapper_xt0mf_113","product-detail":"_product-detail_xt0mf_165",name:E,"priceQnty-wrapper":"_priceQnty-wrapper_xt0mf_185","qnty-ctrl":"_qnty-ctrl_xt0mf_207","brand-name":"_brand-name_xt0mf_277","remove-item":"_remove-item_xt0mf_283","discount-wrapper":"_discount-wrapper_xt0mf_319","toggle-btn":"_toggle-btn_xt0mf_337","discount-container":"_discount-container_xt0mf_391","prices-wrapper":"_prices-wrapper_xt0mf_443","error-msg":"_error-msg_xt0mf_461","discount-input":"_discount-input_xt0mf_503","apply-discount":"_apply-discount_xt0mf_521"};function I(a){return v({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 11h-12c-1.104 0-2 .896-2 2s.896 2 2 2h12c1.104 0 2-.896 2-2s-.896-2-2-2z"},child:[]}]})(a)}function S(){let a=N(),[i,p]=r.useState(0),[u,m]=r.useState(0),[x,d]=r.useState(""),[_,h]=r.useState(""),[n,j]=r.useState(!1),c=y(s=>s.cartitem.items);r.useEffect(()=>{let s=c.reduce((g,l)=>g+Number(l.productPrice)*l.productQnty,0);p(s.toFixed(2))},[c]);function f(){if(_==="SAVE10"){let s=i*.9;m(s.toFixed(2))}else d("Incorrect Discount CODE!"),setTimeout(()=>{d("")},2e3)}return e.jsx("div",{className:t["cart-container"],children:e.jsxs("div",{className:t["cart-item"],children:[c.length===0?e.jsx("h1",{children:"Cart Is EMPTY!"}):c.map(s=>e.jsxs("div",{className:t["product-card"],children:[e.jsx("div",{className:t["img-wrapper"],children:e.jsx("img",{src:s.productImg,alt:""})}),e.jsxs("div",{className:t["product-detail"],children:[e.jsx("h2",{className:t.name,children:s.productTitle}),e.jsxs("div",{className:t["priceQnty-wrapper"],children:[e.jsx("span",{children:s.productPrice}),e.jsx("div",{className:t["qnty-ctrl"],children:e.jsxs("p",{children:[e.jsx("span",{onClick:()=>a(o({id:s.productId,type:"decrement"})),children:e.jsx(I,{})}),s.productQnty,e.jsx("span",{onClick:()=>a(o({id:s.productId,type:"increment"})),children:e.jsx(w,{})})]})})]}),e.jsx("div",{className:t["brand-name"],children:e.jsxs("p",{children:["Brand : ",e.jsx("span",{children:s.productBrand||"No Brand"})]})}),e.jsx("div",{className:t["remove-item"],children:e.jsx("button",{onClick:()=>a(C(s)),children:"Remove"})})]})]},s.productId)),e.jsxs("div",{className:t["discount-wrapper"],children:[e.jsx("span",{onClick:()=>j(!n),className:t["toggle-btn"],children:n?e.jsx(b,{}):e.jsx(D,{})}),n&&e.jsxs("div",{className:t["discount-container"],children:[e.jsxs("div",{className:t["prices-wrapper"],children:[e.jsxs("div",{className:t.total,children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:i})]}),e.jsxs("div",{className:t.discount,children:[e.jsx("span",{children:"Discount"}),e.jsx("span",{children:u})]})]}),e.jsx("div",{children:x&&e.jsx("p",{className:t["error-msg"],children:"Incorrect CODE!"})}),e.jsxs("div",{className:t["discount-input"],children:[e.jsx("input",{type:"text",placeholder:"Discount Code SAVE10",onChange:s=>h(s.target.value.trim())}),e.jsx("button",{onClick:f,className:t["apply-discount"],children:"Apply Discount"})]})]})]})]})})}export{S as default};
